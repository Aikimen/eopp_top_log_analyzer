eopp_top_log_analyzer
Автор: Eugene Arkhipov
Описание: Скрипт на Python для нормализации и агрегации ошибок уровня 3 в системе EOPP из логов Graylog.
Позволяет выявить топ-70 наиболее частых ошибок и исключений, облегчая диагностику и приоритетизацию проблем.

Что делает скрипт
Загружает CSV с логами (например, raw_logs.csv), экспортированными из Graylog.

Нормализует сообщения об ошибках, устраняя переменные части (UUID, таймстемпы, id), чтобы сгруппировать схожие ошибки.

Подсчитывает частоту уникальных ошибок и формирует топ-N (по умолчанию 70).

Аналогично нормализует и агрегирует исключения (exception).

Сохраняет результаты в CSV файлы в папке output/.

Позволяет быстро увидеть, какие ошибки и исключения наиболее часто встречаются в продакшене.

Требования
Python 3.7+

Библиотеки:

pandas

re (входит в стандартную библиотеку)

Установить необходимые библиотеки:
pip install pandas

Как использовать
Поместить исходный CSV файл с логами в корень проекта под именем raw_logs.csv.

Запустить скрипт:
python eopp_top_50_v1.03.py
Результаты появятся в папке output/:

top_70_errors.csv — топ ошибок по количеству.

top_70_exceptions.csv — топ исключений.

Настройка
Чтобы изменить количество выводимых ошибок, отредактируйте константу:
NUMBER_OF_ERRORS = 70
Если исходный файл называется иначе, чем:raw_logs.csv или лежит в другой папке — поправьте переменную file_path в скрипте.

Структура проекта дорисована с помощью GPT
/eopp_top_log_analyzer
│
├── eopp_top_50_v1.03.py   # основной скрипт анализа
├── raw_logs.csv           # исходные логи (не добавляется в репо)
├── output/                # папка для результатов (создаётся автоматически)
└── README.md              # этот файл

Почему это важно
Нормализация ошибок помогает объединять похожие инциденты, скрывая уникальные детали, что облегчает анализ и ускоряет реагирование на критические проблемы.

Контакты и помощь
Если есть вопросы или предложения — открывай issue или пиши мне.
